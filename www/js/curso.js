document.addEventListener("deviceready",onDeviceReady,!1);var currentCursoID=2,user_id=15;function onDeviceReady(){currentUserID=localStorage.getItem("user_id");currentCursoID=localStorage.getItem("currentCursoID");Server.initialize(function(){ko.applyBindings(new CursoVM)},function(){console.log("error :(")})}function internet(){return navigator.connection.type!=Connection.NONE}
function CursoVM(){var a=this;a.id=ko.observable();a.nombre=ko.observable();a.descripcion=ko.observable();a.profesor=ko.observable();a.profesorNombre=ko.observable();a.getTeacherSuccess=function(b){a.profesorNombre(b.apellido+", "+b.nombre)};a.inscripcion=function(){var b=localStorage.getItem("user_id"),c=localStorage.getItem("currentCursoID");Server.inscribirEnCurso(b,c,function(b){swal({title:"Te inscribiste en el curso!",text:"Te inscribiste en el curso "+a.nombre(),type:"success",showCancelButton:!1,
confirmButtonText:"Ok",closeOnConfirm:!1},function(){window.location="cursos.html"})},function(a){})};a.getDataSuccess=function(b){a.id(b.id);a.nombre(b.nombre);a.descripcion(b.descripcion);a.profesor(b.id_profesor);Server.getUserbyID(a.profesor(),a.getTeacherSuccess,function(){});a.profesor()==currentUserID?$("#es_docente").show():$("#es_alumno").show();window.localStorage.setItem("currentCurso_Name",a.nombre())};a.getDataFailure=function(a){console.error(a.error)};a.initialize=function(){if(internet())Server.getCurso(currentCursoID,
a.getDataSuccess,a.getDataFailure);else{var b=window.localStorage.getItem("currentCurso"),b=JSON.parse(b);a.getDataSuccess(b)}};a.initialize()};