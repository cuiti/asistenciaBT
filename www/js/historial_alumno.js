document.addEventListener("deviceready",onDeviceReady,!1);var currentUserID,profesor;function onDeviceReady(){$("#preload").show();currentCurso=JSON.parse(localStorage.getItem("currentCurso"));currentUserID=localStorage.getItem("user_id");Server.initialize(function(){ko.applyBindings(new HistorialVM)},function(){console.log("error :(")})}function internet(){return navigator.connection.type!=Connection.NONE}function Clase(a){this.fecha=a.fecha;this.estado=a.estado}
function HistorialVM(){var a=this;a.clases=ko.observableArray([]);a.currentCursoID=currentCurso.id;a.currentCursoName=currentCurso.nombre;a.getClasesForCursoSuccess=function(b){$("#preload").hide();b=$.map(b,function(a){return new Clase(a)});0!=b.length&&a.clases(b)};a.getClasesForCursoFailure=function(a){$("#preload").hide();console.error(a.error)};a.initialize=function(){internet()?Server.getAsistenciasForCurso(a.currentCursoID,currentUserID,a.getClasesForCursoSuccess,a.getClasesForCursoFailure):
alert("Sin internet no se puede obtener el hisotial")};a.initialize()};