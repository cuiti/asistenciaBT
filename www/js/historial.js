document.addEventListener("deviceready",onDeviceReady,!1);var currentUserID,profesor;function onDeviceReady(){$("#preload").show();currentCurso=JSON.parse(localStorage.getItem("currentCurso"));Server.initialize(function(){ko.applyBindings(new HistorialVM)},function(){console.log("error :(")})}function internet(){return navigator.connection.type!=Connection.NONE}
function Clase(a){var b=this;b.id=a.id;b.fecha=a.fecha;b.setAsCurrent=function(){localStorage.setItem("currentClaseID",b.id);window.location="detalle_clase.html"}}
function HistorialVM(){var a=this;a.clases=ko.observableArray([]);a.currentCursoID=currentCurso.id;a.currentCursoName=currentCurso.nombre;a.getClasesForCursoSuccess=function(b){$("#preload").hide();b=$.map(b,function(a){return new Clase(a)});0!=b.length&&a.clases(b)};a.getClasesForCursoFailure=function(a){$("#preload").hide();console.error(a.error)};a.initialize=function(){internet()?Server.getClasesForCurso(a.currentCursoID,a.getClasesForCursoSuccess,a.getClasesForCursoFailure):alert("Sin internet no se puede obtener el historial")};
a.initialize()};