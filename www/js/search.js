document.addEventListener("deviceready",onDeviceReady,!1);function onDeviceReady(){Server.initialize(function(){ko.applyBindings(new BusquedaVM)},function(){console.log("error :(")})}function Curso(b){var a=this;a.id=b.id;a.nombre=b.nombre;a.descripcion=b.descripcion;a.profesor=b.profesor;a.setAsCurrent=function(){window.localStorage.setItem("currentCursoID",a.id);window.location="inscripcion.html"}}
function BusquedaVM(){var b=this;b.busqueda=ko.observable();b.resultado=ko.observableArray([]);navigator.connection.type==Connection.NONE&&swal({title:"Error",text:"No se puede buscar cursos sin conexion",type:"error",showCancelButton:!1,confirmButtonText:"Volver",closeOnConfirm:!1},function(){window.location="index.html"});b.getDataSuccess=function(a){$("#preloader").hide();a=$.map(a,function(a){return new Curso(a)});0!=a.length&&b.resultado(a)};b.getDataFailure=function(a){$("#preloader").hide();
console.error(a.error)};b.Search=function(){var a=window.localStorage.getItem("user_id");$("#preloader").show();Server.buscarCurso(b.busqueda(),a,b.getDataSuccess,b.getDataFailure)}};