document.addEventListener("deviceready",onDeviceReady,!1);var username="movilesbluetooth",password="3mFh5qNR",checknameURL="http://movilesbluetooth.php.info.unlp.edu.ar/cursos/checkname/";function onDeviceReady(){$("#name-progress").hide();cordovaHTTP.useBasicAuth(username,password,function(){console.log("success!");ko.applyBindings(new RegisterVM)},function(){console.log("error :(")})}
function RegisterVM(){var a=this;a.name=ko.observable("");a.teacher_id=ko.observable("");a.horarios=ko.observable("");a.descripcion=ko.observable("");navigator.connection.type==Connection.NONE&&swal({title:"Error",text:"No se puede crear cursos sin conexion",type:"error",showCancelButton:!1,confirmButtonText:"Volver",closeOnConfirm:!1},function(){window.location="index.html"});a.validateName=function(){$("#name-progress").show();cordovaHTTP.get(checknameURL+a.name(),{},{},function(b){$("#name-progress").hide();
a.getDataSuccess(JSON.parse(b.data))},function(b){$("#name-progress").hide();a.getDataFailure(b)})};a.submitCurso=function(){a.teacher_id(window.localStorage.getItem("user_id"));Server.RegistrarCurso(a.name(),a.descripcion(),a.horarios(),a.teacher_id(),a.registerSuccess,a.registerFail)};a.registerSuccess=function(a){window.location="cursos.html"};a.registerFail=function(a){};a.getDataSuccess=function(a){a.free?$("#name").removeClass("invalid").addClass("valid"):$("#name").removeClass("valid").addClass("invalid")};
a.getDataFailure=function(a){console.error(a.error)}};